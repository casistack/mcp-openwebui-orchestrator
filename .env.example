# MCP OpenWebUI Docker Orchestrator Configuration

# Manager API port
MANAGER_PORT=3001

# Path to Claude Desktop configuration file
CLAUDE_CONFIG_PATH=/config/claude_desktop_config.json

# Proxy type: 'mcpo' or 'mcp'
MCP_PROXY_TYPE=mcpo

# Port allocation range for MCP proxies (SIGNIFICANTLY expanded for multi-transport)
# IMPORTANT: Multi-transport requires many ports (12 servers × 3 transports = 36+ ports)
PORT_RANGE_START=50000
PORT_RANGE_END=50300

# Node environment
NODE_ENV=production

# Proxy mode: 'individual' or 'unified'
MCP_PROXY_MODE=unified

# Multi-Transport Configuration - RESOURCE INTENSIVE FEATURE
# Enable multiple transport protocols (ONLY available in unified mode)
# WARNING: Multi-transport uses significant resources (36+ processes, 300+ ports, 3GB+ memory)
# Individual mode: OpenAPI only, Unified mode: OpenAPI only, Multi-transport mode: Unified + SuperGateway per server
ENABLE_MULTI_TRANSPORT=false

# Transport Protocol Controls (when ENABLE_MULTI_TRANSPORT=true and MCP_PROXY_MODE=unified)
# IMPORTANT: Each enabled transport creates one SuperGateway process per MCP server
# Example: 12 servers × 3 transports = 36 SuperGateway processes + 1 MCPO = 37 total processes
TRANSPORT_STREAMABLE=true   # Modern Streamable HTTP (recommended for IDEs)
TRANSPORT_WEBSOCKET=true    # Real-time bidirectional communication
TRANSPORT_SSE=true          # Legacy Server-Sent Events support
TRANSPORT_OPENAPI=true      # Universal REST API compatibility (always enabled via MCPO)

# SuperGateway Logging Configuration
# Controls logging level for all SuperGateway processes (debug | info | none)
# debug: Verbose connection and protocol logs (for troubleshooting)
# info: Standard connection events (default, recommended)
# none: Suppress all SuperGateway logs (production)
SUPERGATEWAY_LOG_LEVEL=info


# CORS Configuration (REQUIRED for production security)  
# Comma-separated list of allowed origins - MUST be configured for production
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080,http://localhost:5000

# Security Configuration
# Generate a secure secret key with: openssl rand -hex 32
# WEBUI_SECRET_KEY=your_32_character_secure_random_string_here

# Container Security Options
# Bind ports to localhost only (change for external access)
# EXTERNAL_ACCESS=false

# Docker Secrets (uncomment to enable)
# WEBUI_SECRET_KEY_FILE=/run/secrets/webui_secret_key
# CLAUDE_CONFIG_PATH=/run/secrets/claude_config.json